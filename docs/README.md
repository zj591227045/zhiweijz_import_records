# 导入交易记录网页 - 项目规划文档

## 项目概述

本项目旨在开发一个纯静态网页应用，用于将第三方记账数据导入到只为记账系统中。应用支持多种数据格式，提供智能分类匹配功能，并实现完整的导入流程管理。

## 核心功能

### 🌐 服务器配置
- 支持官方服务器和自定义服务器
- 自动连接测试和状态检测
- 配置信息本地持久化

### 🔐 用户认证
- 安全的用户登录机制
- Token管理和会话保持
- 加密的本地数据存储

### 📚 账本管理
- 获取用户账本列表
- 支持个人账本和家庭账本
- 账本信息展示和选择

### 📁 文件处理
- 支持Excel (.xlsx, .xls) 和CSV格式
- 拖拽上传和文件验证
- 提供标准导入模板下载

### 🏷️ 智能分类匹配
- 自动将原始分类映射到标准分类
- 支持精确匹配、模糊匹配和关键词匹配
- 手动调整和自定义规则

### 👀 数据预览
- 表格形式展示导入数据
- 支持数据编辑和验证
- 统计信息和错误提示

### 💰 预算管理
- 自动关联到对应月份预算
- 支持自动创建预算
- 导入记录不参与预算计算

### 📊 导入报告
- 详细的导入统计信息
- 成功/失败记录明细
- 分类统计和错误分析

## 技术架构

### 前端技术栈
- **Vue 3** + **TypeScript**: 现代前端框架
- **Element Plus**: 成熟的UI组件库
- **Pinia**: 轻量级状态管理
- **Vite**: 快速构建工具
- **SheetJS**: Excel/CSV文件处理

### 数据存储
- **LocalStorage**: 配置信息和会话数据
- **加密存储**: 敏感信息安全保护
- **自动清理**: 过期数据定时清理

### API依赖
基于现有的只为记账系统API：
- 用户认证: `/auth/login`
- 账本管理: `/api/account-books`
- 分类管理: `/api/categories`
- 预算管理: `/api/budgets`
- 交易记录: `/api/transactions`

## 智能分类规则

### 标准分类体系
支持将任意原始分类映射到以下标准分类：

**支出类别**:
餐饮、购物、日用、交通、运动、娱乐、通讯、服饰、美容、居家、孩子、长辈、社交、旅行、数码、汽车、医疗、还款、保险、学习、办公、维修、利息

**收入类别**:
工资、兼职、理财、奖金、提成、其他

### 匹配算法
1. **精确匹配**: 完全相同的分类名称
2. **模糊匹配**: 基于编辑距离的相似度计算
3. **关键词匹配**: 预定义关键词库匹配
4. **智能学习**: 用户手动调整后的规则记忆

## 文档结构

```
docs/import_records/
├── README.md               # 项目总体介绍 (本文件)
├── architecture_plan.md    # 架构规划文档
├── tech_plan.md           # 技术规划文档
├── ui_preview.md          # 界面预览文档
└── development_plan.md    # 开发任务规划
```

## 快速开始

### 1. 查看架构规划
[架构规划文档](./architecture_plan.md) - 了解系统整体架构设计

### 2. 了解技术方案
[技术规划文档](./tech_plan.md) - 查看技术选型和实现细节

### 3. 预览界面设计
[界面预览文档](./ui_preview.md) - 查看完整的界面设计方案

### 4. 制定开发计划
[开发任务规划](./development_plan.md) - 详细的开发任务和时间安排

## 项目特色

### 🚀 易用性
- 清晰的步骤引导流程
- 直观的可视化界面
- 实时的状态反馈

### 🔒 安全性
- 本地数据加密存储
- 安全的API通信
- 自动数据清理机制

### 📱 响应式设计
- 桌面端优先设计
- 移动端完美适配
- 触摸操作友好

### ⚡ 高性能
- 大文件流式处理
- 分批数据导入
- 虚拟滚动优化

### 🎯 智能化
- AI驱动的分类匹配
- 自动数据清洗
- 智能错误检测

## 开发时间线

### 第1周: 基础开发
- 项目初始化和环境搭建
- 核心API封装和状态管理
- 文件处理和分类匹配算法

### 第2周: 功能实现
- 完整组件开发
- 页面逻辑实现
- 数据处理和导入功能

### 第3周: 测试优化
- 全面测试和bug修复
- 性能优化和用户体验改进
- 部署和文档完善

## 质量标准

### 代码质量
- TypeScript严格模式
- 80%以上测试覆盖率
- ESLint代码规范检查

### 性能标准
- 页面加载时间 < 3秒
- 操作响应时间 < 500ms
- 支持10MB大文件处理

### 用户体验
- 直观的操作流程
- 友好的错误提示
- 完善的帮助文档

## 部署方案

### 静态部署
- 构建输出纯静态文件
- 支持CDN加速部署
- 零服务器依赖

### Docker化
- 提供标准Docker镜像
- 一键部署解决方案
- 支持容器化环境

### 域名配置
- 支持自定义域名
- HTTPS安全访问
- 跨域请求配置

## 维护支持

### 版本更新
- 定期功能更新
- 安全补丁发布
- 兼容性维护

### 技术支持
- 详细使用文档
- 问题反馈渠道
- 开发者支持

### 社区建设
- 开源代码托管
- 用户交流社区
- 贡献者指南

## 联系方式

如有任何问题或建议，请通过以下方式联系：

- 项目仓库: [只为记账系统](https://github.com/your-repo/zhiweijz)
- 问题反馈: GitHub Issues
- 邮箱支持: support@zhiweijz.com

---

*本文档最后更新: 2024年1月* 